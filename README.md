<h1 align="center">
  Pentest Report Management
</h1>

<p align="center">
  <a href="#to-do">To Do</a> •
  <a href="#install">Install</a> •
  <a href="#screenshot">Screenshot</a> 
</p>

## To Do
- [x] Submit & View Finding, Report
- [x] Home page 
- [x] User management
- [x] Weakness management
- [ ] Integration tool example: acunetix, nuclei, fuzzing, ...
- [ ] View report from tool integration
- [ ] Dashboard statistic

## Install

#### Create mysql database 

```
Create database <dbname>
```

```
CREATE TABLE `findings` (
  `id` int NOT NULL AUTO_INCREMENT,
  `report_id` int NOT NULL,
  `name` varchar(100) NOT NULL,
  `status` enum('Open','Fixed','Other') DEFAULT 'Open',
  `description` text,
  `image_url` varchar(255) DEFAULT NULL,
  `link` varchar(255) DEFAULT NULL,
  `recommend` text,
  `weakness` varchar(255) DEFAULT NULL,
  `impact` text,
  `severity` varchar(255) DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `author` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `report_id` (`report_id`),
  CONSTRAINT `findings_ibfk_1` FOREIGN KEY (`report_id`) REFERENCES `reports` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

```
CREATE TABLE `projects` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `description` text,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

```
CREATE TABLE `reports` (
  `id` int NOT NULL AUTO_INCREMENT,
  `project_id` int NOT NULL,
  `name` varchar(100) NOT NULL,
  `date` date NOT NULL,
  `author` varchar(100) NOT NULL,
  `status` enum('Open','Closed','Other') DEFAULT 'Open',
  PRIMARY KEY (`id`),
  KEY `project_id` (`project_id`),
  CONSTRAINT `reports_ibfk_1` FOREIGN KEY (`project_id`) REFERENCES `projects` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

```
CREATE TABLE `users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `password` varchar(100) NOT NULL,
  `role` enum('admin','user') DEFAULT 'user',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

```
CREATE TABLE `weaknesses` (
  `id` int NOT NULL AUTO_INCREMENT,
  `external_id` varchar(255) NOT NULL,
  `weakness_type` varchar(255) NOT NULL,
  `description` text,
  `link` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
```

#### Edit file .env

```
# Database configuration
DB_USERNAME=root
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=3306
DB_NAME=pentest_report

# JWT secret key
JWT_SECRET=your_secret_key11323232sdfsfsf

# Other configurations
SERVER_PORT=8089
```

#### Complie source code

- With linux, macos

```
go build -o pentestreport
```

- With windows
```
GOOS=windows GOARCH=amd64 go build -o pentestreport.exe .
```

#### Running

- with command

```
./pentestreport or ./pentestreport.exe
```

## Screenshot

<h3 align="center">
  <img src="image/home.png" alt="nuclei-flow" width="700px"></a>
  <img src="image/project.png" alt="nuclei-flow" width="700px"></a>
  <img src="image/report.png" alt="nuclei-flow" width="700px"></a>
  <img src="image/finding.png" alt="nuclei-flow" width="700px"></a>
  <img src="image/weakness.png" alt="nuclei-flow" width="700px"></a>
</h3>